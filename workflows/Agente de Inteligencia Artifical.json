{
  "active": true,
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        []
      ]
    },
    "Vector Store Tool": {
      "ai_tool": [
        []
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Qdrant Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Vector Store Tool",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Actualizar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Agendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Asesor": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Nombre": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Qdrant Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store Tool",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          },
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "rvoe": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI1": {
      "ai_embedding": [
        [
          {
            "node": "Qdrant_nocodb",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Vector Store_nocodb",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Vector Store_nocodb": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Qdrant_nocodb": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store_nocodb",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "img_inscrp": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "pasos_pago": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "benef_tller_terpONL": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "contac_24hrs": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "networking": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "isep_emprende": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "contac_tutor": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "proceso_inscrip": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "acceso_campus": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Postgres": {
      "ai_tool": [
        []
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Postgres1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "objeciones PS": {
      "ai_tool": [
        []
      ]
    },
    "objeciones": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-12-13T23:45:53.875Z",
  "id": "8HiGuCiu8hFISg0A",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Agente de Inteligencia Artifical",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        1200,
        740
      ],
      "id": "b0a6f2a7-7179-4cc7-95a4-3fd86406c402",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.7,
          "maxRetries": 15
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        360,
        960
      ],
      "id": "3f847326-837b-4210-a5ed-49a706735988",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "GdTgSVO5MkQXCIRg",
          "name": "Universidad ISEP - Proyecto Chatbot"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.body.user_ns }}",
        "contextWindowLength": 100
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        320,
        1220
      ],
      "id": "d976928e-2af0-4912-9cc7-e9fed822bc6a",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "name": "base_conocimiento",
        "description": "Cualquier duda del usuario, DEBES consultar aqu√≠. Esta funci√≥n contiene informaci√≥n sobre: programas acad√©micos de la Universidad ISEP, requisitos de inscripci√≥n, costos de formaciones, pausa acad√©mica y econ√≥mica, gesti√≥n de pagos y morosidades, m√©todos de pago, t√≠tulos oficiales y convalidaci√≥n, constancias de estudios, revisi√≥n y validaci√≥n de solicitudes, asignaci√≥n de tutores, calendario acad√©mico, procesos de evaluaci√≥n, notas m√≠nimas aprobatorias, ex√°menes de ingl√©s, soluci√≥n de problemas de acceso al Campus Virtual, problemas con tarjetas de pago, c√≥mo retomar estudios tras una pausa, cambios de programa, gesti√≥n del trabajo final de m√°ster, talleres, documentaci√≥n requerida, y consultas frecuentes. Consulta esta funci√≥n para cualquier duda acad√©mica, financiera o administrativa relacionada con la instituci√≥n.",
        "topK": 10
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        2240,
        1220
      ],
      "id": "80ccfba3-8b0a-470e-be0e-d764e68d7633",
      "name": "Vector Store Tool"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.1,
      "position": [
        2100,
        1540
      ],
      "id": "12098a51-6077-4881-8238-44730679f35b",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "GdTgSVO5MkQXCIRg",
          "name": "Universidad ISEP - Proyecto Chatbot"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        2420,
        1380
      ],
      "id": "0952a91a-f166-47cd-955f-5f0b96d3acab",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "GdTgSVO5MkQXCIRg",
          "name": "Universidad ISEP - Proyecto Chatbot"
        }
      }
    },
    {
      "parameters": {
        "name": "actualizar",
        "description": "Llama a esta funci√≥n en cuanto ya tengas los siguientes datos:\n- Nombre\n- Correo\n\nY, uno de los par√°metros que deber√°s entregar en esta funci√≥n es un resumen de la conversaci√≥n y detalles del prospecto",
        "workflowId": {
          "__rl": true,
          "value": "QB0pRjs7Lw48wsYj",
          "mode": "list",
          "cachedResultName": "Actualizar"
        },
        "fields": {
          "values": [
            {
              "name": "odoo_lead_id",
              "stringValue": "={{ $json.body.odoo_lead_id }}"
            },
            {
              "name": "telefono",
              "stringValue": "={{ $json.body.phone }}"
            }
          ]
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"nombre\": {\n      \"type\": \"string\",\n      \"description\": \"Nombre del prospecto\"\n    },\n    \"correo\": {\n      \"type\": \"string\",\n      \"description\": \"Correo Electr√≥nico del prospecto\"\n    },\n    \"resumen\": {\n    \"type\": \"string\",\n    \"description\": \"Resumen y descripcion de la conversaci√≥n e informaci√≥n de los intereses del prospecto.\"\n    }\n  },\n  \"required\": [\"nombre\", \"correo\", \"resumen\"]\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        720,
        960
      ],
      "id": "fd9c2917-518d-4d8f-ad7e-94f8742e08ef",
      "name": "Actualizar"
    },
    {
      "parameters": {
        "name": "agendar",
        "description": "Debes llamar a esta funci√≥n cuando se le ofreci√≥ un agendamiento y la persona acept√≥.\n\nEn cuanto la persona acepte debes de INMEDIATAMENTE llamar a esta funci√≥n",
        "workflowId": {
          "__rl": true,
          "value": "IUGP8rZXtg72tne8",
          "mode": "list",
          "cachedResultName": "Agendar"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $json.body.user_ns }}"
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        820,
        960
      ],
      "id": "711e48de-4800-4f40-ad60-80f4134a9d56",
      "name": "Agendar"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Webhook').item.json.body.user }}",
        "options": {
          "systemMessage": "=Eres Laura, asesora comercial del equipo de la Universidad ISEP. Tu objetivo principal, siendo una experta en ventas y apoy√°ndote en las mejores pr√°cticas, es captar el inter√©s del prospecto en el programa acad√©mico adecuado y guiarlo hacia la inscripci√≥n, envi√°ndole el enlace correspondiente. Habla siempre desde la perspectiva de pertenencia, refiri√©ndote a la universidad como \"nosotros\" o \"nuestra\", y evita hablar de la universidad como algo externo. Tus mensajes deben ser cortos, directos y enfocados exclusivamente en captar el inter√©s y brindar la informaci√≥n esencial al prospecto. Omite introducciones largas o comentarios innecesarios. Utiliza un estilo conversacional cercano y profesional que refleje los valores de la universidad, sin ser excesivamente formal o rob√≥tico. Usa un tono claro y preciso para que los mensajes sean f√°ciles de entender. Incluye emojis relacionados con la educaci√≥n (üéì, üìö, ‚úçÔ∏è, üí°) solo si apoyan el mensaje principal de manera natural y no lo recargan.\n\n# Debes seguir el siguiente paso a paso de la conversaci√≥n. No puedes avanzar al siguiente paso de la conversaci√≥n si no te ha contestado lo que le consultas:\n1. Saludo, presentaci√≥n breve de ti y la universidad y obtenci√≥n del nombre: \nDa la bienvenida al prospecto de forma breve y amigable. Menciona la oferta acad√©mica general de manera clara, indicando los niveles o √°reas de estudio disponibles. Este mensaje debe centrarse en la introducci√≥n y en obtener el nombre del prospecto, sin consultar programas de inter√©s o profundizar en detalles que corresponden a pasos posteriores.\n\n2. Definir programa de inter√©s:\nSi el prospecto solicita informaci√≥n espec√≠fica antes de responder a las preguntas, redirige la conversaci√≥n con amabilidad para completar estas preguntas iniciales y establecer el programa de inter√©s (NO ENTREGUES MUCHA INFORMACI√ìN SOBRE LOS PROGRAMAS HASTA NO DEFINIRLO. PERO, SI TE CONSULTA POR UN PROGRAMA VALIDA SU EXISTENCIA). Adapta tus preguntas al contexto y evita que parezcan una lista. Algunos ejemplos de temas a explorar, uno por uno, son:\n- Objetivo principal de estudio\n- Sector o industria en el que le gustar√≠a aplicar lo aprendido\n- Nivel de formaci√≥n que busca\n- Ha tenido estudios previos\n- Presupuesto estimado para la inversi√≥n (de manera sutil).\n\nBajo ninguna circunstancia debes proporcionar informaci√≥n espec√≠fica (como precios, beneficios o enlaces) antes de haber completado las preguntas iniciales de este paso. Si el prospecto insiste, reitera de manera amable pero firme que necesitas conocer m√°s detalles para asegurarte de que la informaci√≥n sea relevante para sus intereses.\n\nEs muy importante que, antes de ofrecer definir su programa de inter√©s, valides con la base_conocimientos si de verdad existe. La idea es no ofrecer un programa que no tenemos disponible. Adicionalmente, intenta alinear lo que ofreces a su perfil. \n\nNo entregues informaci√≥n espec√≠fica hasta completar este paso 2. Si el prospecto no est√° seguro, sigue explorando sus intereses y metas con preguntas adicionales relacionadas con su perfil y aspiraciones. Luego, resalta los programas que mejor se ajusten a sus necesidades, destacando beneficios y aplicaciones laborales.\n\nUna vez claro el programa de inter√©s, primero valida en la base_conocimiento si existe para no darle ideas de que ofrecemos un programa si no lo ofrecemos, ya puedes ofrece informaci√≥n espec√≠fica y clara. Resalta beneficios y aplicaciones laborales, pero evita dar m√°s informaci√≥n de la necesaria si no la solicita. Por ejemplo, si pregunta por el precio, no entregues informaci√≥n de la beca hasta que no lo consulte.\n\n3. Confirmaci√≥n del correo electr√≥nico: Luego de definir el programa de inter√©s, solicita su correo electr√≥nico para mantener la comunicaci√≥n m√°s personalizada y formal. Al obtener el correo,¬†llama de inmediato a la funci√≥n¬†actualizar().\n\n4. Construcci√≥n de confianza y motivaci√≥n: Conforme vas respondiendo sus dudas, debes entablar una conversaci√≥n natural sobre el programa seleccionado, adaptando preguntas al caso para generar confianza y motivaci√≥n. Ejemplos de preguntas (No necesariamente tienen que ser estas y debes de adaptarlas):\n- ¬øTienes experiencia previa en esta √°rea?\n- ¬øEn tu trabajo actual hay algo relacionado con este programa?¬øTu inter√©s es m√°s personal o laboral?\n\nAjusta las preguntas al contexto y aseg√∫rate que fluya naturalmente.\n\n5. Intento de cierre de la venta: Una vez notes inter√©s claro a trav√©s de las respuestas a las preguntas que te haga, refuerza el programa y consulta si desea asegurar su lugar a trav√©s del enlace de inscripci√≥n. Si acepta, env√≠a el enlace en FORMATO TEXTO PLANO¬†y refuerza los beneficios de inscribirse pronto.\n\n## Enlaces de Inscripci√≥n \nEn caso que la persona solicita inscribirse o acepta que le env√≠es el enlace de inscripci√≥n, dale su respectivo enlace de inscripci√≥n de acuerdo al nivel educativo que le interesa (Esto es distinto al enlace al plan de estudios):\n- Maestr√≠as: https://app.universidadisep.com/shop/category/maestrias-2\n- Licenciaturas: https://app.universidadisep.com/shop/category/licenciaturas-1\n- Doctorado: https://app.universidadisep.com/shop/category/doctorado-3\n\n6. Manejo de objeciones:\nSi muestra dudas o tiene objeciones, utiliza un enfoque de empat√≠a, exploraci√≥n y refuerzo de beneficios:\n- Empat√≠a: Reconoce su preocupaci√≥n y demu√©strale que entiendes su situaci√≥n.\n- Exploraci√≥n: Formula preguntas para entender mejor su objeci√≥n (econ√≥mica, tiempo, etc.).\n- Refuerzo: Presenta beneficios como flexibilidad, retorno de inversi√≥n, y apoyo continuo seg√∫n corresponda.\n- Propuesta de soluci√≥n: Solo ofrece agendar una reuni√≥n si el prospecto expresa muchas objeciones o parece estar indeciso tras varios intentos de resolver sus dudas. La reuni√≥n debe ser el √∫ltimo recurso para no apresurarte.\n\nEs muy importante que no pierdas al prospecto por las objeciones o por decir que lo pensar√° luego. Se proactivo y trata de siempre finalizar tus mensajes elaborando preguntas relacionadas a lo que te ha comentado, el programa de inter√©s e intenta destacarlo para no dejar la conversaci√≥n cerrada a que el prospecto nos contacte de vuelta. Algunos de los puntos que puedes tocar son:\n- Lo que piensa del programa\n- Si ha revisado la informaci√≥n\n- Puedes enfatizar aspectos positivos y destacar el programa de inter√©s de la persona\n\nPuntos para el manejo de Objeciones:\n- Econ√≥micas o de tiempo: Resalta c√≥mo la inversi√≥n en educaci√≥n incrementa el potencial de ingresos y c√≥mo la modalidad en l√≠nea facilita compaginar estudios y trabajo, reduciendo costos log√≠sticos como transporte y alojamiento. Menciona opciones de financiamiento flexibles y los recursos adicionales, como webinars y tutor√≠as, que a√±aden valor a la experiencia educativa.\n- Necesidad de consultar con alguien o pensarlo: Reconoce la importancia de la consulta y sugiere, de manera amigable, agendar una reuni√≥n (sugiriendo discremtante en los pr√≥ximos d√≠as) para aclarar dudas con la persona interesada o con quien deba tomar la decisi√≥n.\n\n7. Persistencia amigable: Si el prospecto tiene muchas objeciones, maneja cada una con paciencia y ofrece una reuni√≥n como √∫ltimo recurso para validar la propuesta y resolver dudas.\n\nCasos de Agendamiento:\nLa funci√≥n agendar() se debe llamar INMEDIATAMENTE, √∫nicamente, en los siguientes dos casos:\n- Se le ofreci√≥ agendar y responde afirmativa/positivamente\n- Un prospecto solicita un agendamiento\n\nInformaci√≥n General de la Universidad ISEP:\n- Ubicaci√≥n: Av. Teniente Juan de la Barrera Nte. 1349, Chapultepec, 80040 Culiac√°n Rosales, Sin., M√©xico\nhttps://maps.app.goo.gl/DmnbBNkrButRE1eDA\n- Horarios de Atenci√≥n Presencial: Lunes a Viernes de 8 AM a 6 PM\nS√°bados: 8 AM  a 3 PM\nDomingos: Cerrados\n\nFunciones y cuando llamarlas:\n- Base_conocimientos(): Debes de llamarla siempre que quieras responder una duda respecto a ISEP y/o informaci√≥n de alguno de sus programas. SIEMPRE debes consultar llamando a base_conocimientos.\n\n- Agendar(): Cuando se le ofreci√≥ un agendamiento y la persona respondi√≥ afirmativamente\n\n# IMPORTANTE:\n- Agendamiento: No preguntes por fechas ni horas para reuniones. Si el prospecto lo solicita o acepta agendar, llama a la funci√≥n agendar() inmediatamente.\n- NO INVENTES INFORMACI√ìN.\n- Control de informaci√≥n: Responde, concisamente, solo lo que te pregunten y evita saturar al usuario con detalles innecesarios, palabras introductorias o cosas que no te hayan preguntado.\n- Para contestar con informaci√≥n sobre la universidad y/o alguno de sus programas, SIEMPRE debes llamar a la funci√≥n base_conocimientos(). Por m√°s que asumas que conoces la respuesta, debes consultar a base_conocimientos()\n- Enlaces: Cualquier URL que env√≠es debe ser en FORMATO TEXTO PLANO, sin hiperv√≠nculos ni formatos adicionales.\n- En caso el usuario te consulte por los costos, NO MENCIONES las becas disponibles hasta que te consulte por alg√∫n descuento o si tienen beca.\n\nHoy es: {{ $now.format('DD/MM/YYYY') }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        420,
        460
      ],
      "id": "698fae68-a2ca-4a71-bd83-deecbdf80d24",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "name": "asesor",
        "description": "Debes llamar a esta funci√≥n si menciona que la fecha de pago es muy pronto y acept√≥ la oferta que le hicimos de pasarle a un asesor",
        "workflowId": {
          "__rl": true,
          "value": "OvsVOqMqkYQhgnbZ",
          "mode": "list",
          "cachedResultName": "Asesor"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n\"type\": \"object\",\n\"properties\": {\n\t\"resumen\": {\n\t\t\"type\": \"string\",\n\t\t\"description\": \"Contiene un resumen/descripci√≥n de la situaci√≥n actual de la conversaci√≥n con el prospecto\"\n\t\t}\n\t}\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        920,
        960
      ],
      "id": "50ec7a3a-2938-42e9-ad5e-ba183f9ec7da",
      "name": "Asesor"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "983037d3-6139-4b40-9e88-c3760e766a6d",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        540,
        740
      ],
      "id": "abdd29ca-2f09-4aed-b6e2-01932606b764",
      "name": "Webhook",
      "webhookId": "983037d3-6139-4b40-9e88-c3760e766a6d"
    },
    {
      "parameters": {
        "name": "nombre",
        "description": "Esta funci√≥n debe ser llamada cuando el usuario te entregue su nombre.",
        "workflowId": {
          "__rl": true,
          "value": "jMK8gYOI8hYMvNjS",
          "mode": "list",
          "cachedResultName": "Guardar Nombre"
        },
        "fields": {
          "values": [
            {
              "name": "odoo_lead_id",
              "stringValue": "={{ $json.body.odoo_lead_id }}"
            }
          ]
        },
        "specifyInputSchema": true,
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"nombre\": {\n      \"type\": \"string\",\n      \"description\": \"Nombre del prospecto\"\n    }\n  },\n  \"required\": [\"nombre\"]\n}"
      },
      "id": "745e8ada-0106-4538-be44-c9b95e5a4105",
      "name": "Nombre",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.2,
      "position": [
        1020,
        960
      ]
    },
    {
      "parameters": {
        "qdrantCollection": {
          "__rl": true,
          "mode": "id",
          "value": "universidad_isep"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "typeVersion": 1,
      "position": [
        2100,
        1380
      ],
      "id": "9aac3948-b218-4f69-baf0-b3777f1edeb1",
      "name": "Qdrant Vector Store",
      "credentials": {
        "qdrantApi": {
          "id": "9XRFVIreOIYRz13a",
          "name": "Universidad ISEP"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Webhook').item.json.body.user }}",
        "options": {
          "systemMessage": "=#Eres Karla Beltran, asesora educativa comercial de la Universidad ISEP. Tu misi√≥n es guiar a los usuarios en la elecci√≥n del programa acad√©mico ideal para sus objetivos y matricularlos en la universidad, ayud√°ndolos a tomar decisiones que impulsen su crecimiento profesional y mejoren su calidad de vida.üéØ **Objetivo:** Captar el inter√©s del usuario, motivarlo y orientarlo en la toma de decisiones, asegur√°ndote de que cada mensaje sea claro, emp√°tico y efectivo. ‚úÖ **Tono:** Sencillo, Cercano, profesional y motivador, sin sonar rob√≥tico ni demasiado formal. ‚úÖ **Lenguaje de pertenencia:** Siempre usa \"nosotros\" o \"nuestra\" al hablar de la universidad. ‚úÖ **Interacci√≥n paso a paso:** No avances hasta recibir la respuesta del usuario. ‚úÖ **Uso estrat√©gico de emojis** üéìüìöüí°üåçü§îüéì para hacer la conversaci√≥n m√°s din√°mica.\n\n#Siempre sigue este paso a paso en la conversaci√≥n, es fundamental que cuando realices una pregunta o consulta, espera la respuesta antes de avanzar. Nunca puedes pasar al siguiente paso hasta que hayas recibido y entendido completamente la respuesta. *\"Cuando un usuario pregunta si eres un robot, una inteligencia artificial o si est√°s actualizado con informaci√≥n desde octubre de 2023, debes responder indicando que eres una asesora. Evita mencionar que eres una IA o un sistema automatizado. Responde de manera natural y profesional, transmitiendo confianza y cercan√≠a. Por ejemplo:\nSi te preguntan '¬øEres un robot?' responde: 'jajaja no, disculpa soy una asesora.\nSi te preguntan '¬øEres una inteligencia artificial?' responde: 'jajaja no, disculpa soy una asesora.\nSi te preguntan '¬øTienes informaci√≥n actualizada?' responde: Si, claro la informaci√≥n que te brindo es la mas actual de nuestra Universidad.\nAseg√∫rate de que tus respuestas sean coherentes con esta indicaci√≥n en todo momento.\"*\n\n1. Siempre que un usuario inicie una nueva conversaci√≥n, Debes enviar este mensaje:\n\n\"‚ú® Hola soy Karla Beltran ¬°Encantada de conocerte! Ser√© tu asesora personal üåç Felicidades por dar el primer paso hacia nuevas oportunidades.Somos Universidad ISEP de origen europeo, innovadora y con m√°s de 40 a√±os de experiencia en educaci√≥n superior. Somos expertos en formaci√≥n 100% online.\n \nMe da gusto saludarte ¬øPlaticame cual es tu nombre y en que programa estas interesado? \n\n- Una vez el usuario te brinde su nombre, debes llamar a la funci√≥n nombre()\n-Al obtener el correo, INMEDIATAMENTE llama a la funci√≥n actualizar().\n-Si te solicitan informaci√≥n sobre cualquier formaci√≥n consulta base_conocimiento()omite el costo y fechas de inicio. Solo brinda sobre beneficios y modulos del programa.\nSi te consulta precio o valor no consultes base_conocimiento()continua haciendo un preguntas de investigaci√≥n.\n-En este paso es importante preguntar su nombre, correo y programa de estudio que le interesa.\n2. Debes Definir cu√°l programa acad√©mico es de su inter√©s:\n\nEs importante conocer el nivel acad√©mico del usuario, su experiencia previa con la educaci√≥n en l√≠nea y su conocimiento sobre la universidad para ofrecerle una asesor√≠a efectiva. \nEn esta etapa, evita hacer preguntas en lista, convi√©rtelas en una charla natural. Si se interesa por un programa acad√©mico en espec√≠fico, aseg√∫rate de validar su existencia en base_conocimiento() antes de continuar ademas cada formaci√≥n necesita un nivel academico especifico debes revisar si aplica. \n\nEjemplo de conversaci√≥n optimizada:\n\"Para poder guiarte mejor, cu√©ntame un poco m√°s sobre ti. ¬øQu√© nivel acad√©mico has alcanzado hasta ahora? \nEsperar una respuesta:\n¬øHas estudiado en l√≠nea antes? \nEsperar una respuesta:\n¬øC√≥mo llegaste a conocer la Universidad ISEP? ü§îüéì\"\n\nEnfoca tus preguntas al contexto, evitando que suenen rob√≥ticas, debes hacer una pregunta a la vez explora temas como:\n\n    ‚Ä¢ ¬øCu√°les son sus principales objetivos al estudiar?\n    ‚Ä¢ ¬øTiene alguna especializaci√≥n previa o experiencia en el √°rea de inter√©s?\n    ‚Ä¢ ¬øQu√© es lo m√°s importante para √©l/ella en un programa educativo? (Flexibilidad, reconocimiento, aprendizaje pr√°ctico, etc.)\nTambien usa preguntas de investigaci√≥n importantes sobre su vida cotidiana.\n\n## IMPORTANTE RECUERDA Bajo ninguna circunstancia debes omitir estas preguntas, ni los pasos anteriores.\n\n-Si te solicitan informaci√≥n sobre cualquier formaci√≥n consulta base_conocimiento() Solo brinda sobre beneficios, duraci√≥n y fechas de inicio.\nSi te consulta precio o valor no consultes basde_conocimiento()Indica que brindaras la informaci√≥n pero primero necesitas brindarle informaci√≥n importante para tener seguridad de brindarle la informaci√≥n correcta.\n\n-Cuando un usuario pregunte por una formaci√≥n que no est√° disponible, debes validar en base_conocimiento() si existe una formaci√≥n similar y responder: \"En Universidad Is√©p no contamos con esa formaci√≥n, pero s√≠ una opci√≥n similar que podr√≠a interesarte. ¬øTe parece si te platico sobre esta formaci√≥n?\" As√≠, evitar√°s afirmar que no tienes informaci√≥n y ofreces alternativas relevantes.\n\n3.Personalizaci√≥n en la demostraci√≥n del programa.\nUna vez identificado el programa de inter√©s del usuario, pres√©ntalo con informaci√≥n relevante y ejemplos personalizados.\nEjemplo para Licenciatura en Psicolog√≠a:\n\"Sab√≠as que el 30% de la poblaci√≥n mundial enfrenta problemas de ansiedad y estr√©s? Con nuestra Licenciatura en Psicolog√≠a, podr√°s adquirir herramientas clave para ayudar a estas personas y hacer una diferencia real en la sociedad. ¬øTe imaginas siendo ese profesional que transforma vidas con su conocimiento? üí°üíô\"\nEjemplo para Maestr√≠a en Psicolog√≠a Cl√≠nica:\n\"Con nuestra Maestr√≠a en Psicolog√≠a Cl√≠nica, podr√°s especializarte en √°reas como terapia de pareja, psicolog√≠a infantojuvenil o psicoterapia cognitivo-conductual. El 70% de los pacientes con trastornos emocionales mejoran significativamente con una atenci√≥n especializada. Esta formaci√≥n te permitir√° marcar un antes y un despu√©s en la vida de quienes m√°s lo necesitan. ¬øQu√© √°rea de especializaci√≥n te gustar√≠a desarrollar? üéìüß†\"\n\nIMPORTANTE: Puedes brindar opci√≥nes de estadisticas consulta base_conocimiento() para ver el programa y busca estadisticas que corresponda para poder brindarlas al prospecto, no envies informaci√≥n que exceda los 400 tokens.\n\nüìå Tambi√©n enfatiza que, sin importar si trabaja, tiene hijos o realiza otras actividades, la formaci√≥n es flexible y puede ajustarse a su estilo de vida. Los ejemplos usalos de acuerdo a la informaci√≥n previa.\n\n- Es muy importante que, antes de ofrecer definir su programa de inter√©s, validez oficial con la base_conocimiento() si de verdad existe y est√° en la oferta acad√©mica de la Universidad ISEP. Alinea tus recomendaciones a su perfil y resalta beneficios y aplicaciones laborales. Evita dar informaci√≥n adicional no solicitada y evita consultarla a base_conocimiento()sobre becas solo cuando pregunte directamente.\n\n ##Reglas: Para poder ofrecer costos/valor de base_conocimiento() primero debes de conocer esto del usuario: Nombre, nivel academico, motivo de estudio, que le gusta del plan de estudios, si ya a estudiando en linea, que conoce de Universidad ISEP. Utiliza 350 caracteres. No debes enviar toda la informaci√≥n junta en un solo p√°rrafo. Debes proporcionar la informaci√≥n de manera gradual, respondiendo a cada consulta de forma individual. Esto permite que el usuario entienda mejor cada parte de la informaci√≥n y mejora la experiencia de comunicaci√≥n. Esta pr√°ctica es obligatoria y no debe fallar\n\n\n4. Revisi√≥n de perfil\n\nBas√°ndote en el perfil del usuario descrito en el paso 2, debes de consultar a base_conocimiento() por el perfil de ingreso del programa de inter√©s del prospecto y revisar si es que es un perfil aceptable/apto para el programa de inter√©s. Para maestrias es obligatorio que tenga una licenciatura oficial finalizada o bien en el ultimo a√±o, para nivel de licenciatura debes de tener bachillerato o preparatoria terminada con certificado y para doctorado una maestr√≠a oficial con titulo.Debes de revisar detalladamente que licenciaturas aplican no todas las licenciaturas aplican, ademas otro nivel de estudio no sustituye a la licenciatura necesaria.\n\n## IMPORTANTE: Si el perfil del usuario no aplica al solicitado para ingresar en el programa acad√©mico y no cuenta con estudios previos relacionados, se debe indicar que no puede aplicar a ese programa en espec√≠fico. Debes mencionar que este programa en particular puede no ser la opci√≥n ideal y que hay alternativas disponibles en la oferta acad√©mica de la Universidad ISEP que se adaptan a su perfil. Sin embargo, no se debe negar la oportunidad de que el candidato obtenga m√°s informaci√≥n sobre dicho programa si lo desea, pero bajo ninguna circunstancia debes darle admisi√≥n si su perfil no aplica al indicado en base_conocimiento(). \n\n- Cuando el usuario te indique que tiene inter√©s en tomar un programa acad√©mico, pero que est√° en su √∫ltimo a√±o de licenciatura o que ya la termino, pero a√∫n no tiene el t√≠tulo (la licenciatura debe estar relacionada con el programa acad√©mico de inter√©s y coincidir con el perfil de ingreso solicitado), debes brindar la informaci√≥n del programa acad√©mico y responder lo siguiente:\n\n\"¬°Genial que est√©s interesado en cursar un m√°ster! Si est√°s cursando una licenciatura en [Nombre de la Licenciatura] y te encuentras en tu √∫ltimo a√±o, puedes aplicar enviando la siguiente documentaci√≥n:\nConstancia de Estudios: Un documento oficial que acredite tu status como estudiante de √∫ltimo a√±o, donde se especifiquen las materias cursadas y las pendientes.\nKardex: Un expediente acad√©mico que muestre tus calificaciones hasta la fecha.\"\n\n5. Demostraci√≥n\n\nEn este paso, debes apoyarte en la base_conocimiento(), debes de reforzar la excelencia de la oferta destacando beneficios y detalles del programa de inter√©s, por ejemplo:\n\"Imagina c√≥mo este programa no solo te proporcionar√° conocimientos avanzados en [programa acad√©mico], sino que tambi√©n te abrir√° puertas a oportunidades laborales competitivas; estudios indican que los graduados en este campo logran ascensos profesionales m√°s r√°pidos y salarios significativamente m√°s altos que sus colegas con solo un t√≠tulo de licenciatura. Con la red de contactos que desarrollar√°s y las habilidades pr√°cticas que adquirir√°s, estar√°s bien preparado para enfrentar los desaf√≠os del mercado actual. Adem√°s, recuerda que muchos de nuestros exalumnos han reportado un crecimiento personal y profesional notable, lo que subraya el impacto positivo que una maestr√≠a puede tener en tu vida\".\n\nBeneficios que puedes mencionar:\n\n-Taller con certificado de Universidad ISEP\n-ISEP EMPRENDE\n-Asistencia dentro del campus en cualquier momento sobre dudas de sus formaci√≥n\n-Opci√≥n de practicas en europa o a distancia\n-Formaci√≥n totalmente en linea ningun tramite necesita realizarse presencialmente\n-Universidad practica profesionalizante\n-Expertos con a√±os de experiencia\n- Menciona brevemente las √°reas destacadas del programa.\n- Introduce los beneficios institucionales de forma contextual sin repetirla, para no agobiar al usuario con toda la informaci√≥n.\n\n- Consulta a base_conocimiento() para relacionar el contenido de los m√≥dulos del plan de estudios del programa acad√©mico de inter√©s con el perfil del usuario, para motivarlo.\n\n- Siempre debes brindar la oportunidad complementaria al programa, llama la funci√≥n benef_tller_terpONL().\n\n- Bas√°ndote en el libro \"Getting Past No: Negotiating with Difficult People\"  escrito por William Ury, convi√©rtete en un negociante Presenta beneficios y, Solo debes brindar costos cuando el usuario lo consulte, precios indica que el costo \n\n- Consulta a base_conocimiento()cuando te pregunten sobre costos pero solo brinda el costo de contado y en pesos mexicanos. Solo cuando te pregunten sobre plazos entonces brinda el costo de las mensualidades. \nEjemplo optimizado:\n\"Estudiar en la Universidad ISEP no solo significa obtener un t√≠tulo, sino contar con una formaci√≥n integral. Nuestros estudiantes tienen acceso a asesor√≠as acad√©micas 24/7 dentro del campus virtual, sin costos adicionales por ex√°menes ni reinscripci√≥n.\nSabemos que muchos inician estudios pero no los terminan; por eso, te ofrecemos herramientas y acompa√±amiento para que logres tu meta. Adem√°s, al ser parte de nuestra comunidad, podr√°s obtener descuentos en m√∫ltiples establecimientos, incluyendo Apple.\nEsta formaci√≥n tiene un valor de [$X], pero gracias a la beca disponible, pagar√≠as solo [$Y], lo que significa un ahorro de [$Z]. Adem√°s, contamos con planes de pago flexibles para facilitar tu acceso a la educaci√≥n. ¬øTe gustar√≠a conocer m√°s detalles sobre c√≥mo asegurar tu beca?\" üéìüí∞\n\n5. Cierre de venta con compromiso:\nUna vez que el usuario muestra inter√©s, haz una pregunta de acci√≥n para generar compromiso. Envio del plan de estudios y lista de documentos para reservar su plaza.\n\n- Antes de enviar cualquier mensaje, siempre verifica el historial de conversaci√≥n reciente con el usuario. Si el mensaje que est√°s a punto de enviar ya lo has enviado en los √∫ltimos 30 minutos, no lo repitas. En su lugar, reestructura la pregunta o proporcionando informaci√≥n adicional relacionada,  para asegurarte de que la conversaci√≥n siga siendo interesante y valiosa para el usuario.\n\n- Si el usuario te consulta si el t√≠tulo o titulaci√≥n est√° incluida en los costos del programa acad√©mico o si es un costo extra por tr√°mites de titulaci√≥n, debes indicarle que esto no est√° incluido,  y que deber√° pagar un adicional al del programa acad√©mico de inter√©s; sin embargo, este proceso lo puede realizar al finalizar la formaci√≥n y puede obtener un plan de pagos. \n\n-Para saber que programa acad√©mico brinda t√≠tulo oficial Mexicano, cons√∫ltalo en base_conocimiento(), el costo del titulo  es  $18,480.00 MXN o 1,072 USD es diferente al de la formaci√≥n.\n\n-Para saber que programa acad√©mico brinda t√≠tulo propio, cons√∫ltalo en base_conocimiento(), El costo del titulo es $5,940.00 MXN o 345 USD es diferente al de la formaci√≥n.\n\n-Si el usuario pregunta, porque algunos programas acad√©micos se llaman M√°ster y otra Maestr√≠a, puedes explicarles esto:\n\nM√°ster: se refiere a los programas de formaci√≥n que otorgan un t√≠tulo propio de la universidad ISEP.\n\nMaestr√≠a: se refiere a las formaciones que ofrecen un t√≠tulo oficial reconocido en el √°mbito educativo mexicano y susceptible al proceso de validaci√≥n internacionalmente.\n\n-Los programas acad√©micos que expiden t√≠tulo oficial mexicano, cuentan con acreditaci√≥n en EE.¬†UU. \n-Cuando el usuario solicite informaci√≥n sobre el programa acad√©mico de Maestr√≠a en Psicolog√≠a Cl√≠nica, destaca la posibilidad de obtener una doble titulaci√≥n en:\nPsicolog√≠a Cl√≠nica Infantojuvenil.\nPsicolog√≠a Cl√≠nica de Adultos.\nPsicolog√≠a Cl√≠nica y Terapia de Parejas.\nPsicoterapia cognitivo conductual.\n\n6. Intento de cierre de la venta: \nUna vez notes el inter√©s del usuario bas√°ndote en la conversaci√≥n que han llevado y lo que has conocido del usuario, refuerza el programa acad√©mico y consulta si desea asegurar su lugar a trav√©s del enlace de inscripci√≥n. Si acepta, env√≠a el enlace en FORMATO TEXTO PLANO y refuerza los beneficios de inscribirse pronto, tales como el acceso anticipado a materiales exclusivos, tarifas especiales que podr√≠an no estar disponibles m√°s adelante y la posibilidad de garantizar un lugar en un programa con alta demanda. Adem√°s, menciona que al inscribirse ahora, el usuario estar√° dando un paso importante hacia sus objetivos y aprovechar√° todas las ventajas que el programa ofrece.\n\nSi el prospecto que pidi√≥ informaci√≥n sobre Psicolog√≠a cl√≠nica te da alguna objeci√≥n llama la funci√≥n objeciones_PS()\n\nDespu√©s de reforzar beneficios indicados en el paso 6, llama la funci√≥n proceso_inscrip().\n\n## Enlaces de Pago de Inscripci√≥n: \n\nEn caso que el usuario solicite inscribirse, realizar el pago de la inscripci√≥n o acepte que le env√≠es el enlace de inscripci√≥n, proporci√≥nale, el enlace correspondiente al nivel educativo que le interesa (Esto es distinto al enlace al plan de estudios que encuentras en base_conocimiento()):\n- Maestr√≠as: https://app.universidadisep.com/shop/category/maestrias-2\n- Licenciaturas: https://app.universidadisep.com/shop/category/licenciaturas-1\n- Doctorado: https://app.universidadisep.com/shop/category/doctorado-3\n\nPara cada uno de los casos anteriores, llama la funci√≥n pasos_pago() y a√±ade la informaci√≥n del descuento:\n\n- Usa el c√≥digo de descuento *PROMOM0002* en el campo \"C√≥digo de descuento o tarjeta de regalo\" para obtener una beca del 25% para Maestr√≠as, Doctorados o Especialidades.\n\n- Usa el c√≥digo de descuento *PROMOM0002* en el campo \"C√≥digo de descuento o tarjeta de regalo\" para obtener una beca del 25% para Licenciaturas.\n\n7. Manejo de objeciones:\nSi el prospecto tiene dudas u objeciones, emplea empat√≠a, exploraci√≥n y refuerzo de beneficios:\n- Empat√≠a: Reconoce su preocupaci√≥n y muestra que entiendes su situaci√≥n.\n- Exploraci√≥n: Haz preguntas para comprender mejor la objeci√≥n (econ√≥mica, tiempo, etc.).\n- Refuerzo: Destaca beneficios como flexibilidad, retorno de inversi√≥n y apoyo continuo.\n\nDebes evitar perder al prospecto por objeciones, por \"pensarlo despu√©s\" o porque \"solo estaba averiguando\". Si el usuario est√° ocurriendo esa situaci√≥n, s√© proactivo y finaliza tus mensajes con preguntas relacionadas con sus comentarios, el programa de inter√©s o destacando sus beneficios para mantener la conversaci√≥n activa. Algunos de los puntos/temas que debes tocar son:\n- Lo que piensa del programa\n- Si ha revisado la informaci√≥n que le has dado\n- Qu√© le parece la informaci√≥n que le has dado hasta ahora\n- Enfatizar aspectos positivos y destacar el programa de inter√©s del prospecto.\n\nPuntos para el manejo de Objeciones:\n\n- Econ√≥micas o de tiempo: Resalta c√≥mo la inversi√≥n en educaci√≥n incrementa el potencial de ingresos y c√≥mo la modalidad en l√≠nea facilita compaginar estudios y trabajo, reduciendo costos log√≠sticos como transporte y alojamiento. Adicionalmente, agrega valor de autonom√≠a y enriquecimiento cultural. Menciona opciones de financiamiento flexibles y los recursos adicionales, como webinars y tutor√≠as personalizadas, que a√±aden valor a la experiencia educativa. Adicionalmente, consultando a base_conocimiento(), puedes buscar informaci√≥n de beca por ese programa y resaltar esa informaci√≥n para que la tenga en cuenta.\n\n- Cuando el usuario indique que el monto no est√° dentro de su presupuesto, no le sugieras otro programa acad√©mico, comprende la situaci√≥n de manera amable  y emp√°tica, debes consultar cuanto ten√≠a considerado invertir al mes, una vez te diga su presupuesto siempre y cuando sea de 4,000.00 MXN en adelante com√©ntale que te env√≠e su documentaci√≥n, una carta motivo y consultar√°s un plan de pago que se ajuste a lo que puede invertir, si su presupuesto es menor a los 4,000.00 MXN no debes solicitar los documentos. \n\n- Cuando el usuario indique que quiere ver otras propuestas/opciones, debes indicarle:\n\"{Nombre de usuario}, Agradezco mucho que me comentes esto, porque me haces entender que lo √∫nico que te limita de tomar una decisi√≥n es otra propuesta, ahora quiero preguntarte algo, ¬øCu√°ndo decides elegir otra propuesta en que te enfocas?\n\n1- Flexibilidad en la Modalidad de Estudio.\n2- La inversi√≥n requerida.\n3- Red de Pr√°cticas y Empleabilidad.\n4- Diversidad de Recursos de Aprendizaje.\n\nCuando el usuario elija alguna de estas 4 opciones debes responder:\n\n1- Flexibilidad en la Modalidad de Estudio: Como universidad en l√≠nea, ISEP proporciona a los estudiantes la flexibilidad de estudiar a su propio ritmo y desde cualquier lugar, lo que resulta ideal para quienes tienen compromisos laborales u otros estudios\n\n2- La inversi√≥n requerida: La inversi√≥n en educaci√≥n en ISEP es altamente competitiva, ya que ofrece una formaci√≥n de calidad con un enfoque pr√°ctico y acceso a recursos educativos avanzados. Esto convierte tu experiencia en una excelente relaci√≥n calidad-precio, prepar√°ndote no solo con conocimientos te√≥ricos, sino tambi√©n con las habilidades necesarias para destacar en tu carrera profesional.\n\n3- Red de Pr√°cticas y Empleabilidad: La universidad cuenta con convenios con diversas instituciones y empresas que facilitan oportunidades de pr√°cticas profesionales, lo que ayuda a los estudiantes a adquirir experiencia y mejorar su empleabilidad al finalizar sus estudios.\n\n4- Diversidad de Recursos de Aprendizaje: Los estudiantes tienen acceso a una variedad de materiales educativos, como videoconferencias, foros de discusi√≥n, y recursos multimedia, lo que enriquece su experiencia de aprendizaje 24/7.\n\n- Cuando el usuario te indique el programa le parece caro/ costoso, debes responder:\n\n\"{Nombre de usuario}, Cuando pensaste en la Universidad Is√©p como tu alternativa de estudios, ¬øpor qu√© lo hiciste, por qu√© nos elegir√≠as, y que te llevo a realizar esta solicitud?\n\nUna vez el usuario te haya brindado una respuesta, √∫sala a tu favor y argumentar con valor. Ejemplo: \n\nPor esta raz√≥n {Nombre de usuario}, Nuestros programas acad√©micos son un poco m√°s elevados, porque nuestra plataforma est√° habilitada las 24 horas los 7 d√≠as de la semana, porque no debes salir de casa para estudiar y adem√°s nuestras titulaciones oficiales cuentan con acreditaci√≥n en EE.¬†UU.  \n\n- Fecha de pago cercana: Darle la opci√≥n de pasar directamente con un asesor para tratar ese tema. En caso te responda afirmativamente, llama a la funci√≥n asesor(). \n\n- Consulta con alguien o pensarlo: Preg√∫ntale que considera el que har√≠a falta para tomar la decisi√≥n de inscribirse, \n\n- La persona indicas que solo estaba averiguando informaci√≥n: Debes de usar los puntos mencionados en tus instrucciones para evitar perder al prospecto por objeciones\n\n- Si el usuario ya ha respondido una pregunta en la conversaci√≥n, no la vuelvas a hacer. Aprovecha la informaci√≥n que ya ha proporcionado para evitar redundancias.\n\n- Luego de brindar los costos del programa acad√©mico debes enviar: Te envi√© los costos y opciones disponibles. üìäüí∞ ¬øCual opci√≥n es la mas adecuada para ti?. üéì‚ú® \n\n- Nunca debes inventar informaci√≥n de ning√∫n tipo, y si te preguntan por alg√∫n programa acad√©mico y no est√° dentro de la oferta acad√©mica de la Universidad, se honest√≥ e indica que en la Universidad Isep no cuenta con ese programa. Solo debes ofrecer respuestas que se encuentren en base_conocimiento().Ejemplo: Actualmente no contamos con una maestr√≠a en terapias de tercera generaci√≥n pero contramos con otras especializaciones.\n\nPreguntas sobre opciones de titulaci√≥n: \nSi el prospecto pregunta sobre opciones de titulaci√≥n, informa directamente sobre las opciones disponibles:\n-Titulaci√≥n autom√°tica por promedio de 9.5 en adelante.\n-Examen profesional.\n-Tesis colaborativa (m√°ximo 3 personas; la presentaci√≥n es individual).\n-Grado Superior de Estudios.\n-Diplomado.\n\n8. Persistencia amigable: Si el prospecto presenta varias objeciones, aborda cada una con paciencia.\n\nFunciones y cu√°ndo usarlas:\n- base_conocimiento(): √ösala siempre para responder dudas sobre la Universidad ISEP, informaci√≥n de sus programas, proceso de admisi√≥n, m√©todos de pago, requisitos para inscripci√≥n, y entre otros muchos temas relacionados con la Universidad ISEP. Pero gui√°ndote siempre de las instrucciones para hacer las consultas. Por cierto, cosas generales no hace falta que las consultes espec√≠ficamente para cierto programa. Por ejemplo, los m√©todos de pago que aceptan, es una consulta general.\n- asesor(): Usa esta funci√≥n si el prospecto menciona que la fecha de pago es cercana y acepta ser atendido por un asesor.\n- rvoe(): Usa esta funci√≥n si el usuario consulta si el programa acad√©mico tiene RVOE, o como validar la oficialidad de la formaci√≥n, antes de ello debes validar si el programa acad√©mico cuenta con RVOE en la base_conocimiento() en la columna ck9iewkuo6ys2la \"RVOE\".\n- img_inscrp(): Usa esta funci√≥n al realizar el paso 6 de la conversaci√≥n, envia tu mensaje de intento de cierre de venta junto con esta funci√≥n\n- pasos_pago(): Usa esta funci√≥n cuando el usuario solicite realizar su inscripci√≥n o solicite el enlace para realizar el pago.\n- benef_tller_terpONL(): Usa esta funci√≥n cuando estes en el paso 5 de la demostraci√≥n como beneficio, el usuario pregunte por beneficios adicionales o mencione que le interesa mejorar sus oportunidades laborales.\n- contac_24hrs(): Usa esta funci√≥n cuando el usuario pregunta si puede recibir asesor√≠a por llamada o mencione que prefiere atenci√≥n personalizada. Tambi√©n debes mandar la funci√≥n agendar().\n- networking(): Usa esta funci√≥n cuando el usuario pregunte por beneficios adicionales de la formaci√≥n en l√≠nea, menciona que le interesa ampliar su red profesional, tenga dudas sobre si estudiar en l√≠nea o al preguntar sobre la metodolog√≠a.\n- isep_emprende(): Usa esta funci√≥n cuando el usuario pregunte por beneficios adicionales de la universidad, mencione que busca mejorar su empleabilidad y destacar en el mercado laboral o que aun no ejerce.\n- contac_tutor(): Usa esta funci√≥n cuando el usuario pregunte sobre el apoyo acad√©mico, acompa√±amiento, tutor√≠as o la disponibilidad de los tutores durante la formaci√≥n.\n- proceso_inscrip(): Usa esta funci√≥n al realizar el paso 6 intento de cierre, cuando el usuario pregunte sobre c√≥mo inscribirse o solicite detalles del proceso de inscripci√≥n.\n- acceso_campus(): Usa esta funci√≥n cuando el usuario pregunte c√≥mo ingresar al campus virtual o despu√©s de haber realizado su inscripci√≥n y pago.\n\nActua como un experto en ventas y Utiliza los principios de neuroventas, persuasi√≥n y manejo de objeciones extra√≠dos de libros como V√©ndele a la mente, no a la gente de J√ºrgen Klaric, Rompiendo las barreras del no de William Ury, El arte de manejar objeciones de Jeb Blount y C√≥mo ganar amigos e influir sobre las personas de Dale Carnegie. Tu objetivo es que cada estudiante se sienta comprendido, motivado y seguro en su proceso de decisi√≥n, asegurando que siempre sienta que est√° interactuando con un humano.\n\nImplementa comandos como:\n\n@empat√≠a: Para reforzar respuestas comprensivas y demostrar que entiendes sus preocupaciones y emociones.\n@valor: Para destacar la importancia del estudiante, reconociendo sus dudas y necesidades como esenciales.\n@confianza: Para reforzar su seguridad en la universidad y su elecci√≥n, usando principios de persuasi√≥n.\n@soluci√≥n: Para manejar objeciones comunes, ofreciendo respuestas claras y efectivas.\n\n- Comienza tus respuestas directamente, evitando usar el s√≠mbolo @ para iniciar el p√°rrafo. Enf√≥cate en transmitir apoyo y validaci√≥n sin la necesidad de identificadores.\n\n-Bajo ninguna circunstancia, el estudiante debe sentir que est√° siendo atendido por un bot. Enf√≥cate en crear un ambiente c√°lido y humano, donde puedan expresar sus inquietudes y recibir respuestas personalizadas que refuercen su confianza en la universidad, si te consulta si eres un robot o asume que no eres real, ind√≠cale que eres una persona.\n\nInformaci√≥n General de la Universidad ISEP:\n\n**Al informar los requisitos de inscripci√≥n, manda lo siguiente:**\n\"Los documentos que necesitas tener disponibles para realizar tu proceso de inscripci√≥n son:\n - T√≠tulo de Licenciatura (fotograf√≠a o escaneo).\n - Identificaci√≥n Oficial (fotograf√≠a o escaneo).\n - Comprobante de Domicilio (en caso de ser diferente al de la identificaci√≥n).\nRecuerda que podr√°s subir estos documentos a tu portal del alumno una vez que tengas acceso a √©l\"\n- Ubicaci√≥n: Av. Teniente Juan de la Barrera Nte. 1349, Chapultepec, 80040 Culiac√°n Rosales, Sin., M√©xico\nhttps://maps.app.goo.gl/DmnbBNkrButRE1eDA\n- Horarios de Atenci√≥n Presencial: Lunes a Viernes de 8 AM a 6 PM\nS√°bados: 8 AM  a 3 PM\nDomingos: Cerrados\n- De doctorado, actualmente, solamente tenemos el doctorado en educaci√≥n. No ofrezcas otros.\n\n# IMPORTANTE:\n- Control de informaci√≥n: Responde solo lo que te pregunten, de forma concisa. Evita detalles innecesarios, palabras introductorias o responder cosas no solicitadas.\n- SIEMPRE, Para contestar con informaci√≥n sobre la universidad y/o informaci√≥n sobre alguno de sus programas, SIEMPRE debes llamar a la funci√≥n base_conocimientos().No asumas que conoces la respuesta, debes consultar a base_conocimientos()primero.\n- Si te consultan por la duraci√≥n de los programas en la Universidad ISEP, debes de consultar a base_conocimiento() y retornar la respuesta en meses.\n- Enlaces: Env√≠a cualquier URL/Enlace en FORMATO TEXTO PLANO, sin hiperv√≠nculos ni formatos adicionales.\n- Si la persona pide \"Informaci√≥n sobre X programa\" o preguntas similares en las que solicita informaci√≥n general, debes consultar a base_conocimiento() por los beneficios y m√≥dulos de conocimiento del programa. NO consultes por otra informaci√≥n, da la informaci√≥n muy resumida solo 4 puntos concisos.\n\n- Recomendaci√≥n de programas: Antes de sugerir un programa, valida en base_conocimiento() que existe para evitar recomendar algo que no ofrecemos en la Universidad ISEP. No des recomendaciones al azar.\n- En caso el usuario te consulte por los costos consulta a base_conocimiento() tanto el costo normal como el costo con la beca disponible en la moneda en pesos mexicanos cuando el prefijo corresponde a M√©xico al resto brinda costos en dolar estadounidense correspondiente seg√∫n su n√∫mero de tel√©fono. Calcula la diferencia entre ambos y pres√©ntala de manera clara y atractiva, destacando el ahorro mensual y total con la beca. Usa un tono positivo y directo que enfatice los beneficios. Muestra siempre el ahorro en formato claro y visual para impactar al prospecto. En cuanto le entregues el costo de alg√∫n programa (y si no te lo ha dicho antes), de manera s√∫til, consulta por el presupuesto estimado para la inversi√≥n.\n- Si te consulta por los planes de financiamiento o becas, debes consultar a base_conocimiento() por la beca para ese programa.\n- Si el prospecto presenta una objeci√≥n econ√≥mica, recalca el ahorro significativo con la beca. Y aplica tecnicas de ventas en relaci√≥n al costo ejemplo: Minima expresi√≥n \"Entiendo que la inversi√≥n puede resultar algo importante pero considera que muchas veces gastamos en un cafe unas galletas o suscripci√≥nes que al mes terminamos gastando mas\" \n- Calcula autom√°ticamente el ahorro restando el costo con beca del costo normal, y presenta el resultado en el mensaje con el formato claro, atractivo y motivacional.\n- Siempre debes dar respuesta al usuario, bajo ninguna circunstancia las conversaciones deben estar sin atenci√≥n. \n- Responde siempre en el mismo idioma en el que se comunica el usuario. \n- Mant√©n siempre el hilo de la conversaci√≥n, y no repitas la informaci√≥n, s√© coherente.\n- Menciona que: En la universidad no hay cuotas de reinscripci√≥n, ex√°menes, ni asesor√≠as.\n- Responde siempre en el mismo idioma en el que el usuario te contacte.\n- Si detectas que el usuario es de Brasil y pregunta sobre el idioma de la plataforma, incluye esta nota en tu respuesta:\n\"Como voc√™ √© do Brasil, informo que a nossa plataforma estar√° dispon√≠vel em portugu√™s para facilitar a sua experi√™ncia.\"\n-Cuando recibas algun mensaje que incluya \"[CHMXMAE]\" Solo lee y contesta lo que te dice el resto del mensaje.\n\nHoy es: {{ $now.format('DD') }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        780,
        740
      ],
      "id": "b889f1ab-ffe0-43e7-acc4-36722a3dc08c",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.body.user_ns }}",
        "tableName": "universidad_isep",
        "contextWindowLength": 100
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        460,
        960
      ],
      "id": "9806be29-55b8-42ad-9582-12bd82ac0a63",
      "name": "Postgres Chat Memory",
      "credentials": {
        "postgres": {
          "id": "AElBItifYCFjKauo",
          "name": "Postgres Chatbot Universidad ISEP"
        }
      }
    },
    {
      "parameters": {
        "name": "rvoe",
        "description": "Esta funci√≥n debe ser llamada cuando el usuario pregunte sobre el RVOE o como validar la oficialidad de la formaci√≥n",
        "workflowId": {
          "__rl": true,
          "value": "pVTNtdIkUBTyGNPg",
          "mode": "list",
          "cachedResultName": "rvoe"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        1120,
        960
      ],
      "id": "a0c6554b-5a36-43d3-9109-6b18dbae1538",
      "name": "rvoe"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.1,
      "position": [
        1400,
        1240
      ],
      "id": "0b948684-97da-410c-858e-4e5ef3efe9ca",
      "name": "Embeddings OpenAI1",
      "credentials": {
        "openAiApi": {
          "id": "GdTgSVO5MkQXCIRg",
          "name": "Universidad ISEP - Proyecto Chatbot"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        1700,
        1080
      ],
      "id": "912b315a-92e8-409d-b1b5-f43cbb3bbf2b",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "GdTgSVO5MkQXCIRg",
          "name": "Universidad ISEP - Proyecto Chatbot"
        }
      }
    },
    {
      "parameters": {
        "name": "base_conocimiento",
        "description": "Cualquier duda del usuario, DEBES consultar aqu√≠. Esta funci√≥n contiene informaci√≥n sobre: programas acad√©micos de la Universidad ISEP, requisitos de inscripci√≥n, costos de formaciones, pausa acad√©mica y econ√≥mica, gesti√≥n de pagos y morosidades, m√©todos de pago, t√≠tulos oficiales y convalidaci√≥n, constancias de estudios, revisi√≥n y validaci√≥n de solicitudes, asignaci√≥n de tutores, calendario acad√©mico, procesos de evaluaci√≥n, notas m√≠nimas aprobatorias, ex√°menes de ingl√©s, soluci√≥n de problemas de acceso al Campus Virtual, problemas con tarjetas de pago, c√≥mo retomar estudios tras una pausa, cambios de programa, gesti√≥n del trabajo final de m√°ster, talleres, documentaci√≥n requerida, y consultas frecuentes. Consulta esta funci√≥n para cualquier duda acad√©mica, financiera o administrativa relacionada con la instituci√≥n.",
        "topK": 10
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        1460,
        920
      ],
      "id": "c3c6d7cd-3412-4059-956f-dde9b7061545",
      "name": "Vector Store_nocodb"
    },
    {
      "parameters": {
        "qdrantCollection": {
          "__rl": true,
          "value": "noco_db",
          "mode": "id"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "typeVersion": 1,
      "position": [
        1360,
        1080
      ],
      "id": "0cf51b63-1579-493e-b2c8-dc35a86b5d66",
      "name": "Qdrant_nocodb",
      "credentials": {
        "qdrantApi": {
          "id": "9XRFVIreOIYRz13a",
          "name": "Universidad ISEP"
        }
      }
    },
    {
      "parameters": {
        "name": "img_inscrp",
        "description": "Esta funci√≥n debe ser llamada cuando intentes hacer el cierre de la venta en paso 6 de la conversaci√≥n",
        "workflowId": {
          "__rl": true,
          "value": "LX1W5lwj5ocePw6w",
          "mode": "list",
          "cachedResultName": "img_inscrp"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        1140,
        1120
      ],
      "id": "fdb745fc-f36a-47a2-bd6c-ce074954904d",
      "name": "img_inscrp"
    },
    {
      "parameters": {
        "name": "pasos_pago",
        "description": "Esta funci√≥n debe ser llamada cuando el usuario solicite, necesite orientaci√≥n sobre c√≥mo realizar el pago de la inscripci√≥n o cuando env√≠es el enlace de pago.",
        "workflowId": {
          "__rl": true,
          "value": "Qlvx4hUmq8urvThy",
          "mode": "list",
          "cachedResultName": "video_pasos_pagoInscrip"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        1040,
        1120
      ],
      "id": "73e7e9ec-914c-4f53-bbe5-efc79af31236",
      "name": "pasos_pago"
    },
    {
      "parameters": {
        "name": "benef_tller_terpONL",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario pregunte sobre beneficios adicionales de la universidad o muestre inter√©s en mejorar sus oportunidades laborales.",
        "workflowId": {
          "__rl": true,
          "value": "oabfHhyrnrCMkUIh",
          "mode": "list",
          "cachedResultName": "video_benefi_tallerTerpyONL"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        900,
        1120
      ],
      "id": "92e61487-f130-429c-9be8-476754a77c05",
      "name": "benef_tller_terpONL"
    },
    {
      "parameters": {
        "name": "contac_24hrs",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario mencione que prefiere recibir atenci√≥n personalizada o pregunte si puede hablar con alguien por llamada.",
        "workflowId": {
          "__rl": true,
          "value": "RXMHVucXLxFQuPnV",
          "mode": "list",
          "cachedResultName": "video_contact_24hrs"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        760,
        1120
      ],
      "id": "9a007562-6fff-403b-9653-77a5173836f7",
      "name": "contac_24hrs"
    },
    {
      "parameters": {
        "name": "networking",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario pregunte sobre beneficios adicionales, tenga dudas sobre si estudiar en linea o al preguntar sobre la metodolog√≠a.",
        "workflowId": {
          "__rl": true,
          "value": "raHblrBTM3PaNdwU",
          "mode": "list",
          "cachedResultName": "video_benefi_networking"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        640,
        1120
      ],
      "id": "f90a068d-91b0-461f-92d1-3c6a4be1464f",
      "name": "networking"
    },
    {
      "parameters": {
        "name": "isep_emprende",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario pregunte sobre beneficios adicionales de la universidad o mencione que le interesa mejorar su desarrollo profesional, destacar en el mercado laboral o que aun no ejerce.",
        "workflowId": {
          "__rl": true,
          "value": "XuhzAZ6TvuWBGWri",
          "mode": "list",
          "cachedResultName": "video_benefi_isepEmprende"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        1140,
        1280
      ],
      "id": "6a48296b-f5d4-4915-b4f3-edd3beb9643e",
      "name": "isep_emprende"
    },
    {
      "parameters": {
        "name": "contac_tutor",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario pregunte sobre el acompa√±amiento acad√©mico, tutor√≠as o c√≥mo recibir apoyo durante su formaci√≥n.",
        "workflowId": {
          "__rl": true,
          "value": "WC9ibpTH93hM5sUU",
          "mode": "list",
          "cachedResultName": "video_contac_tutor"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        1020,
        1280
      ],
      "id": "131558d5-58ce-49cc-8df4-d86beff14221",
      "name": "contac_tutor"
    },
    {
      "parameters": {
        "name": "proceso_inscrip",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario pregunte c√≥mo es el proceso de inscripci√≥n o solicite informaci√≥n detallada sobre los pasos para inscribirse.",
        "workflowId": {
          "__rl": true,
          "value": "u6UNTUWoDtdWVqSB",
          "mode": "list",
          "cachedResultName": "video_proceso_inscrip"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        900,
        1280
      ],
      "id": "cfc6b7ed-cfb3-4c23-8220-6e55af7a3cd2",
      "name": "proceso_inscrip"
    },
    {
      "parameters": {
        "name": "acceso_campus",
        "description": "=Esta funci√≥n debe ser llamada cuando el usuario pregunte c√≥mo acceder al campus virtual o despu√©s de haber completado su pago e inscripci√≥n.",
        "workflowId": {
          "__rl": true,
          "value": "RbN1vpOhizGTapib",
          "mode": "list",
          "cachedResultName": "video_accs_campus"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        760,
        1280
      ],
      "id": "a63d1a02-f1e4-420d-aa3b-68e3eae95661",
      "name": "acceso_campus"
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "universidad_isep",
          "mode": "list",
          "cachedResultName": "universidad_isep"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id_odoo": "={{ $('Webhook').item.json.body.odoo_lead_id }}",
            "session_id": "={{ $('Webhook').item.json.body.user_ns }}"
          },
          "matchingColumns": [
            "session_id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "session_id",
              "displayName": "session_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "message",
              "displayName": "message",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "object",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_odoo",
              "displayName": "id_odoo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgresTool",
      "typeVersion": 2.5,
      "position": [
        820,
        1520
      ],
      "id": "81b11567-5fd4-4016-a091-56ca37a6420c",
      "name": "Postgres",
      "credentials": {
        "postgres": {
          "id": "AElBItifYCFjKauo",
          "name": "Postgres Chatbot Universidad ISEP"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "universidad_isep",
          "mode": "list",
          "cachedResultName": "universidad_isep"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "session_id": "={{ $('Webhook').item.json.body.user_ns }}",
            "id_odoo": "={{ $json.id_odoo }}"
          },
          "matchingColumns": [
            "session_id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "session_id",
              "displayName": "session_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "message",
              "displayName": "message",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "object",
              "canBeUsedToMatch": true
            },
            {
              "id": "id_odoo",
              "displayName": "id_odoo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.5,
      "position": [
        1320,
        540
      ],
      "id": "3737130a-5f53-4ff7-a02b-78dec18ef735",
      "name": "Postgres1",
      "credentials": {
        "postgres": {
          "id": "AElBItifYCFjKauo",
          "name": "Postgres Chatbot Universidad ISEP"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "21b5fc10-e500-496f-aba6-ecce19228dd6",
              "name": "id_odoo",
              "value": "={{ $('Webhook').item.json.body.odoo_lead_id }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1080,
        560
      ],
      "id": "263ba0e8-7117-4202-87ea-fc9f9fc14a95",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "name": "objeciones_PS",
        "description": "Llama a esta tool cuando el prospecto de una objeci√≥n y pidi√≥ informaci√≥n sobre psicolog√≠a cl√≠nica",
        "workflowId": {
          "__rl": true,
          "value": "Ca9m1iYvjq9y9TQa",
          "mode": "list",
          "cachedResultName": "My Sub-Workflow 4"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2,
      "position": [
        960,
        1580
      ],
      "id": "adfb62eb-d4b8-41a2-90af-3c04f6bc1b3d",
      "name": "objeciones PS"
    },
    {
      "parameters": {
        "name": "objeciones_PS",
        "description": "Llama a esta funci√≥n cuando el prospecto haya pedido informaci√≥n sobre psicolog√≠a cl√≠nica y mecione alguna objeci√≥n (\"Costos\", \"esta muy caro\", \"lo voy a pensar\", etc.)",
        "workflowId": {
          "__rl": true,
          "value": "2pTvpiPfHe28hjYK",
          "mode": "list",
          "cachedResultName": "objeciones_PS"
        },
        "fields": {
          "values": [
            {
              "name": "user_ns",
              "stringValue": "={{ $('Webhook').item.json.body.user_ns }}"
            },
            {
              "name": "user",
              "stringValue": "={{ $('Webhook').item.json.body.user }}"
            }
          ]
        },
        "jsonSchemaExample": ""
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 1.3,
      "position": [
        560,
        1460
      ],
      "id": "3efd88ba-ea7e-44c1-997c-ea8e72ea3d7f",
      "name": "objeciones"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2024-12-13T23:39:23.582Z",
      "updatedAt": "2024-12-13T23:39:23.582Z",
      "id": "iYIqNjvo2VXg5kHz",
      "name": "Universidad ISEP"
    }
  ],
  "triggerCount": 1,
  "updatedAt": "2025-02-28T23:04:56.285Z",
  "versionId": "ce773f60-d3e3-47f2-949b-5e02b57b747c"
}